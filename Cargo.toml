[workspace]
resolver = "3"
members = ["maa-framework", "maa-framework-sys"]

[workspace.package]
version = "1.4.1"
authors = ["MaaFramework Contributors"]
edition = "2024"
license = "LGPL-3.0"
homepage = "https://github.com/MaaXYZ/MaaFramework"
repository = "https://github.com/MaaXYZ/MaaFramework"

[workspace.dependencies]
maa-framework-sys = { path = "maa-framework-sys", version = "5.6.0" }

# Example configuration
[package]
name = "maa-framework-examples"
version = "0.1.0"
edition = "2024"

[[example]]
name = "main"
path = "examples/main.rs"

[[example]]
name = "test_adb"
path = "examples/test_adb.rs"

[[example]]
name = "test_basic"
path = "examples/test_basic.rs"

[[example]]
name = "test_dynamic"
path = "examples/test_dynamic.rs"

[features]
default = ["adb", "dynamic", "maa-framework/toolkit", "maa-framework/adb", "maa-framework/dynamic", "maa-framework/win32", "maa-framework/dbg", "maa-framework/custom", "maa-framework/internal"]
adb = ["maa-framework/adb"]
dynamic = ["maa-framework/dynamic"]
# Static build: do not use default so maa-framework gets only static (no dynamic).
static = [
    "maa-framework/static",
    "maa-framework/toolkit",
    "maa-framework/adb",
    "maa-framework/win32",
    "maa-framework/dbg",
    "maa-framework/custom",
    "maa-framework/internal",
]

[dependencies]
maa-framework = { path = "maa-framework", default-features = false }
serde_json = "1.0"

# Dynamic example needs dynamic feature
[package.metadata.cargo-all-features]
denylist = ["dynamic"]
